<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd">

    <!-- Блок проверки и вставки данных для первого сайта -->
    <changeSet id="insert-site-lenta" author="AndrewsS">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                SELECT COUNT(*) FROM site_table WHERE id = 1
            </sqlCheck>
        </preConditions>
        <insert tableName="site_table">
            <column name="id" valueNumeric="1"/>
            <column name="name" value="Лента.ру"/>
            <column name="url" value="https://www.lenta.ru"/>
            <column name="status" value="INDEXED"/>
            <column name="status_time" valueComputed="CURRENT_TIMESTAMP"/>
            <column name="accessible" valueBoolean="true"/>
        </insert>
    </changeSet>

    <!-- Отдельный changeSet для второго сайта -->
    <changeSet id="insert-site-skillbox" author="AndrewsS">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                SELECT COUNT(*) FROM site_table WHERE id = 2
            </sqlCheck>
        </preConditions>
        <insert tableName="site_table">
            <column name="id" valueNumeric="2"/>
            <column name="name" value="Skillbox"/>
            <column name="url" value="https://www.skillbox.ru"/>
            <column name="status" value="INDEXED"/>
            <column name="status_time" valueComputed="CURRENT_TIMESTAMP"/>
            <column name="accessible" valueBoolean="true"/>
        </insert>
    </changeSet>

    <!-- Третий сайт аналогично -->
    <changeSet id="insert-site-playback" author="AndrewsS">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                SELECT COUNT(*) FROM site_table WHERE id = 3
            </sqlCheck>
        </preConditions>
        <insert tableName="site_table">
            <column name="id" valueNumeric="3"/>
            <column name="name" value="PlayBack.Ru"/>
            <column name="url" value="https://www.playback.ru"/>
            <column name="status" value="INDEXED"/>
            <column name="status_time" valueComputed="CURRENT_TIMESTAMP"/>
            <column name="accessible" valueBoolean="true"/>
        </insert>
    </changeSet>

    <!-- Аналогично для страниц -->

</databaseChangeLog>